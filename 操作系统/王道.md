# 进程

## 1 进程的组成

![img.png](img.png)

进程是运行的程序

进程包括PCB，程序段，数据段

进程的特性：动态，独立，异步。

## 进程的状态

- 就绪态
- 运行态
- 阻塞态

![img_1.png](img_1.png)

## 进程控制-用原语实现

![img_2.png](img_2.png)

本人回忆：

进程PCB包含了进程的所有信息

进程切换过程中需要保证原子性，否则会乱套，于是出现了原语

[](https://)

## 进程间通信
![img_3.png](img_3.png)
共享存储主要是共享一个内核中的空间，可以随意读写，但是需要加锁，否则会乱套
消息传递是PCB中维护一个消息队列，进程之间通过消息队列进行通信，分为两种模式
    - 直接通信 直接找进程并发送消息
    - 间接通信 通过发送给PCB中的一个“邮箱”，来传递消息，传输对象是邮箱，而不是进程
管道通信：管道是一种特殊的文件，可以实现进程间通信，但是只能实现单向通信，而且只能在有亲缘关系的进程间通信


## 线程概念
是进程的一部分，是CPU调度的基本单位，线程共享进程的资源，线程之间的切换比进程之间的切换快得多

## 线程的实现方式和多线程模型
- 用户级线程
    - 用户级线程通过模拟线程库来实现，线程库维护了线程的信息，线程的切换是通过线程库来实现的
- 内核级线程
    - 内核级线程是由操作系统来实现的，线程的切换是由操作系统来实现的
  
多线程模型：
- 多对一：多个用户级线程对应一个内核级线程。优点是实现简单，缺点是一个线程阻塞会导致所有线程阻塞
- 一对一：一个用户级线程对应一个内核级线程。优点是一个线程阻塞不会影响其他线程，缺点是线程切换开销大
- 多对多：多个用户级线程对应多个内核级线程。优点是兼顾了上面两种模型的优点，缺点是实现复杂

## 线程状态的转化
基本和进程没啥区别，通过TCB来实现线程的切换
- 